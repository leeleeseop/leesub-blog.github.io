<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>interyard</title>
  <link rel="stylesheet" href="../../css/Project/interyard.css">
</head>
<body>
  <div class="container">
    <div class="header">
      <h1 class="project-title">인터야드(interyard)팀 프로젝트</h1>
      <img src="../../image/projects/interYard/interYard사진.png"/>
    </div>
    
    <div class="Introduction">
      <h3>요약</h3>
        <li>interYard는 온라인 종합 플랫폼에서 중고장터, 댓글 개발 담당을 맡게 되었습니다.</li>
    
      <h3>역할</h3>
        <li>프로젝트 팀 인원 7명</li>
        <li>역할: 부PM (PM보조)</li>
        <li>담당: 중고장터 & 댓글</li>
     
      <h3>프로젝트 기간</h3>
        <li>프로젝트 진행 기간 (2024.7.19 ~ 2024.8.6)</li>
    
      <h3>도구 및 기술</h3>
        <li><b>DBMS:</b>Oracle11g xe</li>
        <li><b>개발언어:</b>JAVA(JDK17), HTML, CSS</li>
        <li><b>라이브러리:</b>jQuery, Bootstrap</li>
        <li><b>개발도구:</b>Oracle SQL Developer</li>
        <li><b>템플릿 엔진:</b>JSP</li>
    </div>

    
    <div class="Document">
      <h1>문서작업</h1>
      <h3>요구사항 정의서</h3>
      <img src="../../image/projects/interYard/인터야드 요구사항 정의서1.png" style="display: block; margin-bottom: 20px;"/>
      <img src="../../image/projects/interYard/인터야드 요구사항 정의서2.png" style="display: block;"/>
      
      <h3>테이블 정의서</h3>
      <img src="../../image/projects/interYard/인터야드 테이블 정의서1.png" style="display: block; margin-bottom: 20px;"/>
      <img src="../../image/projects/interYard/인터야드 테이블 정의서2.png" style="display: block;"/>
        
      <h3>Flow Diagram</h3>
      <p>1.중고장터</p>
      <img src="../../image/projects/interYard/인터야드 다이어그램1.jpg"/>
      <p>1.댓글</p>
      <img src="../../image/projects/interYard/인터야드 다이어그램2.jpg"/>
      
      <h3>메뉴흐름도</h3>
      <p>1.중고장터</p>
      <img src="../../image/projects/interYard/인터야드 메뉴흐름도1.jpg"/>
      <p>1.댓글</p>
      <img src="../../image/projects/interYard/인터야드 메뉴흐름도2.jpg"/>
    </div>

    
    <div class="Main">
      <h1>중고장터 & 댓글 프로젝트 화면</h1>
      <hr>
      <h3>1.중고장터 리스트</h3>
      <img src="../../image/projects/interYard/인터야드 중고 장터 댓글 리스트.png"/>
      <li><b>중고 상품의 리스트로 사용자들이 올린 상품을 보여주기 위해 개발했습니다.</b></li>
      <details>
        <summary><b>출력 데이터</b></summary>
        <ul>
          <li><b>상품 이미지:</b>중고 상품의 이미지</li>
          <li><b>상품명:</b>중고 상품의 이름</li>
          <li><b>상품 가격:</b>중고 상품의 가격</li>
          <li><b>등록일:</b>상품이 등록된 날짜</li>
        </ul>
      </details>
      <details>
        <summary><b>입력 데이터</b></summary>
        <ul>
          <li><b>검색:</b>찾고 싶은 상품명을 입력하는 기능</li>
        </ul>
      </details>
      <details>
        <summary><b>링크</b></summary>
        <ul>
          <li><b>등록</b>(WriteForm.do)</li>
        </ul>
      </details>
      <hr>
      
      <h3>2.중고장터 상품 상세보기</h3>
      <img src="../../image/projects/interYard/인터야드 중고장터 상품 상세보기.png"/>
      <li><b>중고 상품의 상세 정보를 볼 수 있으며, ‘메시지 버튼’을 통해 판매자와 대화 페이지로 이동할 수 있도록 개발했습니다.</b></li>
      <details>
        <summary><b>출력 데이터</b></summary>
        <ul>
          <li><b>상품 이미지:</b>중고 상품의 이미지</li>
          <li><b>상품명:</b>중고 상품의 이름</li>
          <li><b>상품 내용:</b>중고 상품의 대한 내용</li>
          <li><b>가격:</b>중고 상품의 가격</li>
          <li><b>상품 상태:</b>상품이 판매 중일 경우 '판매중', 판매 완료일 경우 '판매완료'</li>
        </ul>
      </details>
      <details>
        <summary><b>링크</b></summary>
        <ul>
          <li><b>메시지</b>(Message WriteForm.do)</li>
          <li><b>수정</b>(UsedGoods UpdateForm.do)</li>
          <li><b>삭제</b>(UsedGoods Delete.do)</li>
          <li><b>리스트</b>(UsedGoods list.do)</li>
        </ul>
      </details>
      <hr>
      
      <h3>3.중고상품 등록</h3>
      <img src="../../image/projects/interYard/인터야드 중고상품 등록.png"/>
      <li><b>사용자가 상품등록 에서 데이터를 입력하고 등록버튼을 클릭하면 리스트 반영 될수있도록 개발했습니다.</b></li>
      <details>
        <summary><b>입력 데이터</b></summary>
        <ul>
          <li><b>상품명:</b>상품명을 입력할수있는 기능</li>
          <li><b>상품내용:</b>상품에 대한 정보를 입력할수있는 기능</li>
          <li><b>가격:</b>상품의 가격을 입력할수있는 기능</li>
          <li><b>상품이미지:</b>상품의 이미지를 업로드 할수있는 기능</li>
        </ul>
      </details>
      <details>
        <summary><b>링크</b></summary>
        <ul>
          <li><b>등록</b>(UsedGoods Write.do)</li>
          <li><b>다시입력</b>(UsedGoods WriteForm.do)</li>
          <li><b>취소</b>(UsedGoods listd.do)</li>
        </ul>
      </details>
      <hr>
      
      <h3>4. 중고상품 수정</h3>
      <img src="../../image/projects/interYard/인터야드 중고상품 수정.png"/>
      <li><b>사용자가 상품수정에서 데이터를 수정할 수 있도록 개발했습니다.</b></li>
      <details>
        <summary><b>출력 데이터</b></summary>
        <ul>
          <li><b>상품 번호: </b>해당 상품의 번호</li>
          <li><b>상품명:</b>중고 상품의 이름</li>
          <li><b>상품 설명:</b>상품의 상세 정보</li>
          <li><b>가격:</b>중고 상품의 가격</li>
          <li><b>상품 상태:</b>상품의 상태 (판매중, 판매완료)</li>
        </ul>
      </details>      
      <details>
        <summary><b>입력 데이터</b></summary>
        <ul>
          <li><b>상품명:</b>상품명을 수정할 수 있는 기능</li>
          <li><b>상품설명:</b>상품 설명을 수정할 수 있는 기능</li>
          <li><b>가격:</b>가격을 입력하여 수정하는 기능</li>
          <li><b>상품상태:</b>"판매중", "판매완료" 상태를 변경하는 기능</li>
          <li><b>이미지 변경:</b>새로운 사진으로 바꾸는 기능</li>
        </ul>
      </details>
      <details>
        <summary><b>링크</b></summary>
        <ul>
          <li><b>수정</b>(UsedGoods Update.do)</li>
          <li><b>다시입력</b>(UsedGoods Update.do)</li>
          <li><b>취소</b>(UsedGoods list.do)</li>
        </ul>
      </details>
      <hr>
      
      <h3>5.중고장터 상품 삭제</h3>
      <img src="../../image/projects/interYard/인터야드 중고장터 상품 삭제.png"/>
      <li><b>상세보기에서 삭제 버튼을 클릭하면 리스트로 돌아가며 상품은 삭제되고, "상품이 삭제되었습니다"라는 문구가 표시되도록 개발했습니다.</b></li>
      <details>
        <summary><b>링크</b></summary>
        <ul>
          <li><b>Close</b>(Close Modal)</li>
        </ul>
      </details>
      <hr>
      
      <h3>6.중고 장터 댓글 리스트</h3>
      <img src="../../image/projects/interYard/인터야드 중고 장터 댓글 리스트.png"/>
      <li><b>상품상세보기 밑에 댓글 리스트가 있으며 다른 사용자들의 댓글을 볼 수 있도록 개발했습니다.</b></li>
      <details>
        <summary><b>출력 데이터</b></summary>
        <ul>
          <li><b>작성자 ID:</b>댓글 작성자의 아이디</li>
          <li><b>작성일:</b>댓글이 작성된 날짜</li>
          <li><b>댓글 내용:</b>사용자가 남긴 댓글 내용</li>
        </ul>
      </details>
      <details>
        <summary><b>링크</b></summary>
        <ul>
          <li><b>등록</b>(reply WriteForm.do)</li>
          <li><b>수정</b>(reply UpdateForm.do)</li>
          <li><b>삭제</b>(reply Delete.do)</li>
        </ul>
      </details>
      <hr>
      
      <h3>7.중고장터 댓글 등록</h3>
      <img src="../../image/projects/interYard/인터야드 중고장터 댓글 등록.png"/>
      <li><b>모달 창에서 댓글 내용을 수정할 수 있으며 수정 버튼을 클릭하면 수정 처리가 될 수 있도록 개발했습니다.</b></li>
      <details>
        <summary><b>출력 데이터</b></summary>
        <ul>
          <li><b>댓글 내용: </b>사용자가 작성한 댓글내용</li>
        </ul>
      </details>
      <details>
        <summary><b>입력 데이터</b></summary>
        <ul>
          <li><b>댓글 내용: </b>댓글 내용을 수정 할 수있는 입력 기능</li>
        </ul>
      </details>
      <details>
        <summary><b>링크</b></summary>
        <ul>
          <li><b>수정</b>(Reply Update.do)</li>
          <li><b>취소</b>(Close Modal)</li>
        </ul>
      </details>
      <hr>
      
      <h3>8.중고장터 댓글 삭제</h3>
      <img src="../../image/projects/interYard/인터야드 중고장터 댓글 삭제.png"/>
      <li><b>댓글 삭제 여부를 확인하는 모달 창을 통해, 삭제 버튼을 클릭하면 리스트에서 댓글이 삭제됩니다.</b></li>
      <details>
        <summary><b>링크</b></summary>
        <ul>
          <li><b>삭제</b>(Reply Delete.do)</li>
          <li><b>취소</b>(Close Modal)</li>
        </ul>
      </details>  
      <hr>

      <h1>핵심 코드</h1>
      <hr>
      <h3>1.중고장터 리스트</h3>
      <img src="../../image/projects/interYard/인터야드 중고장터 댓글 삭제.png"/>
      <h3>usedgoods List.do Controller</h3>
      <img src="../../image/projects/interYard/인터야드 usedgoods List.do Controller(핵심코드).png"/>
      <li>위 코드는 중고장터 리스트 페이지를 처리하는 부분으로 사용자가<b>/usedgoods/list.do</b>요청을 보내면 중고 상품 리스트를 불러와 목록을  출력하는 역할을 합니다.</li>
      <details>
        <summary><b>페이지 당 항목 수 설정</b></summary>
        <ul>
          <b>if(strPerPageNum == null) pageObject.setPerPageNum(6);</b>
          <li>parPageNum이 null 이면 기본적으로 한 페이지에 6개의 항목이 표시 되도록 설정합니다.</li>
        </ul>
      </details>  
      <details>
        <summary><b>리스트 데이터 가져오기</b></summary>
        <ul>
          <b>result = Execute.execute(UsedGoodsInit.get(uri), pageObject);</b>
          <li><b>Execute.execute()</b>를 통해 중고 장터의 상품 리스트 데이터를 가져옵니다.</li>
        </ul>
      </details> 
      <details>
        <summary><b>리스트와 페이지 정보 설정</b></summary>
        <ul>
          <b>request.setAttribute(”list”, result);<br>
             request.setAttribute(”pageObject”, pageObject);</b>
          <li>result 와 pageObejct를 request에 저장하고 JSP에 접근할 수 있도록 설정합니다.</li>
        </ul>
      </details>     
    
      <h3>usedgoods List DAO</h3>
      <img src="../../image/projects/interYard/인터야드 usedgoods List DAO(핵심코드).png"/>
      <li><b>LIST는 중고 상품 리스트를 조회하는 SQL 쿼리이며, getListSQL 메서드는 페이징과 검색 조건을 반영한 쿼리를 생성해 데이터를 가져옵니다. list 메서드는 데이터베이스에서 중고 상품 리스트를 조회해 반환합니다.</b></li>
      <details>
        <summary><b>final String LIST</b></summary>
          <ul>
            <li>이 문자열은 중고 상품 목록을 가져오는 SQL 쿼리의 기본 형식을 정의합니다.</li>
            <li>각 상품의 상품번호(ugno), 제목(title), 아이디(id), 가격(price), 작성일(writeDate), 이미지(image) 등의 정보를 조회하는 SQL 쿼리입니다.</li>
            <li>from & where 절
              <ul>
                <li>데이터를 두 개의 테이블인 usedgoods 테이블(u)과 member 테이블(m)에서 가져옵니다. usedgoods 테이블(u)에서 중고 상품 정보를 가져오고, member 테이블(m) id를 조인합니다.</li>
                <li>where 1=1 은 항상 참인 조건으로, 나중에 필요한 조건을 쉽게 추가하기 위해 사용됩니다.</li>
              <ul>
            </li>
          </ul>
      </details>
      <details>
        <summary><b>getListSQL</b></summary>
        <ul>
          <li><b>기본쿼리: LIST</b>라는 변수를 사용해 상품번호, 제목, 아이디, 가격, 작성일 이미지를 조회하는 기본 쿼리를 구성합니다.</li>
          <li><b>검색 조건 추가: getSearch(pageObject, false)</b>메서드를 통해 검색 조건을 추가합니다.</li>
          <li><b>m.id = u.id 조건: member</b>테이블의 회원 아이디와 usedgoods 테이블의 아이디가 일치하는지를 확인하는 부분입니다.</li>
          <li><b>order by ugno desc:</b>상품 번호(ugno)를 기준으로 내림차순으로 정렬하여 최신 상품이 가장 먼저 나오도록 합니다.</li>
          <li><b>rnum between ? and ?:</b>페이징 처리를 위한 코드로, 각 페이지에서 보여줄 데이터의 시작 행과 끝 행을 지정합니다.</li>
        </ul>
      </details>
      <details>
        <summary><b>리스트 메서드</b></summary>
        <ul>
          <li><b>con = DB.getConnection();:</b>데이터베이스에 연결을 설정합니다.</li>
          <li><b>pstmt = con.prepareStatement(getListSQL(pageObject));:</b>getListSQL() 메서드를 호출해 검색 조건과 페이징이 적용된 SQL 쿼리를 생성합니다.</li>
          <b> 
            pstmt.setLong(++idx, pageObject.getStartRow());<br>
            pstmt.setLong(++idx, pageObject.getEndRow());
          </b>
          <li>페이징 처리를 위해 시작 행과 끝 행을 설정하여, 특정 페이지의 데이터만 조회합니다.</li>
          <li><b>rs = pstmt.executeQuery();</b>: SQL쿼리를 실행합니다.</li>
          <li><<b>UsedGoodsVO vo = new UsedGoodsVO();</b>중고 상품의 각 행을 저장할 UsedGoodsVO 객체를 생성합니다.
            <ul>
              <li><b>vo.setUgno(rs.getLong("ugno"))</b>: 상품 번호</li>
              <li><b>vo.setTitle(rs.getString("title")</b>: 상품 제목</li>
              <li><b>vo.setId(rs.getString("id"))</b>: 작성자 ID</li>
              <li><b>vo.setPrice(rs.getLong("price"))</b>: 상품 가격</li>
              <li><b>vo.setWriteDate(rs.getString("writeDate"))</b>: 상품 작성일</li>
              <li><b>vo.setImage(rs.getString("image"))</b>: 상품 이미지</li>
              <li><b>list.add(vo);</b>: 에 담습니다.</li>
            </ul>
          </li>
          <li><b>DB.close(con, pstmt, rs);</b>: 데이터베이스 연결 종료</li>
          <li><b>return list;</b>: 중고 상품 데이터가 담긴 리스트 반환</li>
        </ul>
      </details>
    
      <h3>usedgoods List HTML</h3>
      <img src="../../image/projects/interYard/인터야드 usedgoods List HTML(핵심코드).png"/>
      <li><b>위 코드는 상품 목록을 카드 형식으로 동적으로 출력하는 기능을 담당합니다. c:forEach 태그를 사용하여 서버에서 받아온 각 상품의 이미지, 제목, 가격, 등록일 등 정보를 화면에 표시합니다.</b></li>
      <details>
        <summary><b>상품 데이터 출력</b></summary>
        <ul>
          <li><b>items="${list}”</b>는 서버에서 전달된 상품 목록을 받아 반복 처리합니다.</li>
          <li>상품 목록에서 이미지(vo.image), 제목(vo.title), 가격(vo.price), 등록일(vo.writeDate) 등의 데이터를 화면에 동적으로 출력합니다.</li>
        </ul>
      </details>
      <details>
        <summary><b>상품 카드 구성</b></summary>
        <ul>
          <li>각 상품은 product-item 클래스를 가진 카드 형식으로 디자인되어 있으며 상품 이미지, 제목, 가격 등을 포함하여 그리드 형식으로 화면에 표시됩니다.</li>
          <b><!--<img class="card-img-top"src="${pageContext.request.contextPath}${vo.image}"alt="image">--></b>
          <li>카드 상단에는 상품의 이미지가 img 태그로 출력됩니다.</li>
          <li>${pageContext.request.contextPath} 는 이미지의 경로로 사용됩니다.</li>
          <li>상품 제목과 가격은 card-body 내부에 표시되며, 제목은 <strong> 태그로, 가격은 태그로 출력됩니다.</li>
          <li><!--<h5><fmt:formatNumber value="${vo.price}" pattern="#,###"/>원</h5>-->
            <ul><li>상품의 가격을 출력하는 부분입니다. fmt:formatNumber 태그를 사용하여 가격을 천 단위로 구분하여 보기 쉽게 출력합니다.</li></ul>
          </li>
        </ul>
      </details>    
      <hr>
      
      <h3>2.중고장터 등</h3>
      <img src="../../image/projects/interYard/인터야드 중고장터 등록(핵심코드).png"/>
      <h3>usedgoods writeForm.do Controller</h3>
      <img src="../../image/projects/interYard/인터야드 usedgoods writeForm.do Controller(핵심코드)1.png"/>
      <li>위 코드는 상품 등록 하기 위해 사용자가 <code>/usedgoods/writeForm.do</code> URL을 요청하면 해당 요청을 받아 상품 등록을 위한 폼 페이지로 이동합니다.</li>
      <img src="../../image/projects/interYard/인터야드 usedgoods writeForm.do Controller(핵심코드)1-2.png"/>
      <li>위 코드는 사용자가 상품 등록 폼에서 제출한 데이터를 처리하여 서버에 저장하고 등록 성공 메시지를 전송한 후 리스트 페이지로 리다이렉트합니다.</li>
      
      <details>
          <summary><strong>이미지 업로드 처리</strong></summary>
          <ul>
              <li>
                  <code>MultipartRequest multi = new MultipartRequest(request, realSavePath, sizeLimit, "utf-8", new DefaultFileRenamePolicy());</code>
              </li>
              <li><strong>MultipartRequest</strong>를 사용하여 이미지 파일 업로드를 처리합니다. 사용자가 업로드한 이미지를 서버의 특정 경로에 저장하면 업로드한 파일의 경로와 파일명을 가져옵니다.</li>
              <li><strong>realSavePath:</strong> 실제 파일을 저장할 경로</li>
              <li><strong>sizeLimit:</strong> 업로드 가능한 파일의 최대 크기</li>
              <li><strong>DefaultFileRenamePolicy:</strong> 동일한 파일명이 존재할 경우 자동으로 파일명을 변경</li>
          </ul>
      </details>
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    </div>
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    <a href="https://leeleeseop.github.io/leesub-blog.github.io/">Back to Home</a>
</body>
</html>
