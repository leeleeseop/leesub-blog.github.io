<body>
	<header>
		<nav class="navbar navbar-expand-lg bg-dark navbar-dark  fixed-top">
	      <a class="nav-link" href="/">웹짱닷컴</a>

		<!-- 보여지는 너비가 작은 경우 나타나는 메뉴 줄임 3선 -->
		  <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#collapsibleNavbar">
		    <span class="navbar-toggler-icon"></span>
		  </button>

		<!-- 주메뉴 부분 -->
			<!-- 오른쪽 부분의 내용을 오른쪽 끝에 두기 위해서
			 mr-* 오른쪽 마진 사용. auto : 데이터를 제외한 부분을 margin으로 사용 -->
		<div class="collapse navbar-collapse" id="collapsibleNavbar">
		  <ul class="navbar-nav mr-auto">
		    <li class="nav-item ${(module == '/notice')?'active':'' }">
		      <a class="nav-link" href="/notice/list.do">공지사항</a>
		    </li>
		    <li class="nav-item ${(module == '/goods')?'active':'' }">
		      <a class="nav-link" href="/goods/list.do">쇼핑몰</a>
		    </li>
		    <li class="nav-item ${(module == '/image')?'active':'' }">
		      <a class="nav-link" href="/image/list.do">Gallery</a>
		    </li>
		    <li class="nav-item ${(module == '/board')?'active':'' }">
		      <a class="nav-link" href="/board/list.do">일반게시판</a>
		    </li>
		    <li class="nav-item ${(module == '/qna')?'active':'' }">
		      <a class="nav-link" href="/qna/list.do">질문답변</a>
		    </li>
		    <c:if test="${!empty login }">
			    <!-- 회원(로그인) 메뉴 -->
			    <li class="nav-item ${(module == '/message')?'active':'' }">
			      <a class="nav-link" href="/message/list.do">메세지</a>
			    </li>
		    </c:if>
		    <c:if test="${!empty login && login.gradeNo == 9 }">
			    <!-- 관리자 메뉴 -->
			    <li class="nav-item ${(module == '/member')?'active':'' }">
			      <a class="nav-link" href="/member/list.do">회원관리</a>
			    </li>
		    </c:if>
		  </ul>
		  <ul class="navbar-nav">
		  	<c:if test="${ empty login }">
			  	<!-- 로그인을 안했을 때 -->
			    <li class="nav-item">
			      <a class="nav-link" href="/member/loginForm.do">
			      	<i class="fa fa-compress"></i>
			      	로그인
			      </a>
			    </li>
			    <li class="nav-item">
			      <a class="nav-link" href="/member/writeForm.do">
			      	<i 	class="fa fa-address-card-o"></i>
			     	 회원가입
			      </a>
			    </li>
			    <li class="nav-item">
			      <a class="nav-link" href="/member/searchID.do">
			      	<i 	class="fa fa-search"></i>
			      	아이디/비밀번호 찾기
			      </a>
			    </li>
		    </c:if>
		  	<c:if test="${ !empty login }">
			  	<!-- 로그인을 했을 때 -->
			  	<!-- 사진 보여주기 처리 -->
			    <li class="nav-item">
			      <span class="nav-link">
			      	<c:if test="${empty login.photo }">
			      		<i class="fa fa-user-circle-o"></i>
			      	</c:if>
			      	<c:if test="${!empty login.photo }">
			      		<img src="${login.photo }" class="rounded-circle"
			      			style="width: 30px; height: 30px;">
			      	</c:if>
			      </span>
			    </li>
			  	<!-- 새로운 메시지 처리 -->
			    <li class="nav-item">
			      <span class="nav-link">
			      	<span class="badge badge-pill badge-danger"
			      	 id="newMsgCnt">
			      		${login.newMsgCnt}
			      	</span>
			      </span>
			    </li>
			    <li class="nav-item">
			      <a class="nav-link" href="/member/logout.do">
			      	<i 	class="fa fa-sign-out"></i>
			      	로그아웃
			      </a>
			    </li>
			    <li class="nav-item">
			      <a class="nav-link" href="/member/view.do">내정보보기</a>
			    </li>
			    <li class="nav-item">
			      <a class="nav-link" href="/cart/list.do">장바구니</a>
			    </li>
		    </c:if>
		  </ul>
		  </div>
		</nav>
	
	</header>
	<article>
		<!-- 여기에 개발자 작성한 body 태그 안에 내용이 들어온다. -->
		<decorator:body />
	</article>
	<footer class="container-fluid text-center">
		<p>이 홈페이지의 저작권은 이영환에게 있습니다.</p>
	</footer>

	<jsp:include page="messageModal.jsp" />

</body>
